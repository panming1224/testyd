# Pythonè¯­æ³•çŸ¥è¯†ç‚¹è¯¦è§£

## ğŸ“‹ ç›®å½•

1. [åŸºç¡€æ•°æ®ç±»å‹](#åŸºç¡€æ•°æ®ç±»å‹)
2. [å˜é‡å’Œå¸¸é‡](#å˜é‡å’Œå¸¸é‡)
3. [è¿ç®—ç¬¦](#è¿ç®—ç¬¦)
4. [æ¡ä»¶è¯­å¥](#æ¡ä»¶è¯­å¥)
5. [å¾ªç¯è¯­å¥](#å¾ªç¯è¯­å¥)
6. [å‡½æ•°](#å‡½æ•°)
7. [å¼‚å¸¸å¤„ç†](#å¼‚å¸¸å¤„ç†)
8. [æ–‡ä»¶æ“ä½œ](#æ–‡ä»¶æ“ä½œ)
9. [æ¨¡å—å’ŒåŒ…](#æ¨¡å—å’ŒåŒ…)
10. [é¢å‘å¯¹è±¡](#é¢å‘å¯¹è±¡)

---

## åŸºç¡€æ•°æ®ç±»å‹

### 1. å­—ç¬¦ä¸² (str)

```python
# å­—ç¬¦ä¸²å®šä¹‰
name = "äº¬ä¸œåº—é“º"
path = r'D:\testyd\file.txt'  # åŸå§‹å­—ç¬¦ä¸²ï¼Œä¸è½¬ä¹‰
multi_line = """
è¿™æ˜¯å¤šè¡Œ
å­—ç¬¦ä¸²
"""

# å­—ç¬¦ä¸²æ“ä½œ
print(f"åº—é“ºåç§°ï¼š{name}")  # f-stringæ ¼å¼åŒ–
print("é•¿åº¦ï¼š", len(name))   # è·å–é•¿åº¦
print("å¤§å†™ï¼š", name.upper())  # è½¬å¤§å†™
print("æ›¿æ¢ï¼š", name.replace("äº¬ä¸œ", "JD"))  # æ›¿æ¢

# å­—ç¬¦ä¸²æ–¹æ³•
text = "  hello world  "
print(text.strip())      # å»é™¤é¦–å°¾ç©ºæ ¼
print(text.split())      # åˆ†å‰²ä¸ºåˆ—è¡¨
print("_".join(['a', 'b', 'c']))  # è¿æ¥åˆ—è¡¨ä¸ºå­—ç¬¦ä¸²
```

### 2. æ•°å­—ç±»å‹

```python
# æ•´æ•°
count = 10
row_idx = 0

# æµ®ç‚¹æ•°
price = 99.99
rate = 0.15

# æ•°å­¦è¿ç®—
result = count + 5      # åŠ æ³•
result = price * rate   # ä¹˜æ³•
result = 10 // 3        # æ•´é™¤
result = 10 % 3         # å–ä½™
result = 2 ** 3         # å¹‚è¿ç®—

# ç±»å‹è½¬æ¢
num_str = "123"
num = int(num_str)      # å­—ç¬¦ä¸²è½¬æ•´æ•°
float_num = float(num)  # æ•´æ•°è½¬æµ®ç‚¹æ•°
str_num = str(num)      # æ•°å­—è½¬å­—ç¬¦ä¸²
```

### 3. å¸ƒå°”ç±»å‹ (bool)

```python
# å¸ƒå°”å€¼
is_success = True
is_failed = False

# å¸ƒå°”è¿ç®—
result = True and False  # ä¸è¿ç®—
result = True or False   # æˆ–è¿ç®—
result = not True        # éè¿ç®—

# æ¯”è¾ƒè¿ç®—è¿”å›å¸ƒå°”å€¼
result = 5 > 3          # True
result = "abc" == "def"  # False
result = 10 in [1, 2, 10]  # True
```

### 4. åˆ—è¡¨ (list)

```python
# åˆ—è¡¨å®šä¹‰
shops = ["åº—é“º1", "åº—é“º2", "åº—é“º3"]
numbers = [1, 2, 3, 4, 5]
mixed = ["æ–‡æœ¬", 123, True]  # å¯ä»¥æ··åˆç±»å‹

# åˆ—è¡¨æ“ä½œ
shops.append("åº—é“º4")        # æ·»åŠ å…ƒç´ 
shops.insert(0, "æ–°åº—é“º")    # æ’å…¥å…ƒç´ 
removed = shops.pop()        # åˆ é™¤å¹¶è¿”å›æœ€åä¸€ä¸ªå…ƒç´ 
shops.remove("åº—é“º1")        # åˆ é™¤æŒ‡å®šå…ƒç´ 

# åˆ—è¡¨è®¿é—®
first_shop = shops[0]        # è·å–ç¬¬ä¸€ä¸ªå…ƒç´ 
last_shop = shops[-1]        # è·å–æœ€åä¸€ä¸ªå…ƒç´ 
sub_list = shops[1:3]        # åˆ‡ç‰‡æ“ä½œ

# åˆ—è¡¨éå†
for shop in shops:
    print(shop)

for i, shop in enumerate(shops):
    print(f"{i}: {shop}")
```

### 5. å­—å…¸ (dict)

```python
# å­—å…¸å®šä¹‰
shop_info = {
    "name": "æµ‹è¯•åº—é“º",
    "profile": "Profile 1",
    "status": "å¾…ä¸‹è½½"
}

# å­—å…¸æ“ä½œ
shop_info["status"] = "å·²å®Œæˆ"     # ä¿®æ”¹å€¼
shop_info["date"] = "2025-09-26"  # æ·»åŠ æ–°é”®å€¼å¯¹
status = shop_info.get("status", "æœªçŸ¥")  # å®‰å…¨è·å–å€¼

# å­—å…¸éå†
for key, value in shop_info.items():
    print(f"{key}: {value}")

for key in shop_info.keys():
    print(key)

for value in shop_info.values():
    print(value)
```

---

## å˜é‡å’Œå¸¸é‡

### å˜é‡å‘½åè§„åˆ™

```python
# æ­£ç¡®çš„å˜é‡å
shop_name = "åº—é“ºåç§°"      # ä½¿ç”¨ä¸‹åˆ’çº¿
maxAttempts = 60          # é©¼å³°å‘½å
file_path_2 = "è·¯å¾„"      # å¯ä»¥åŒ…å«æ•°å­—

# é”™è¯¯çš„å˜é‡åï¼ˆä¸è¦è¿™æ ·å†™ï¼‰
# 2file_path = "é”™è¯¯"     # ä¸èƒ½ä»¥æ•°å­—å¼€å¤´
# shop-name = "é”™è¯¯"      # ä¸èƒ½åŒ…å«è¿å­—ç¬¦
# class = "é”™è¯¯"          # ä¸èƒ½ä½¿ç”¨å…³é”®å­—
```

### å¸¸é‡å®šä¹‰

```python
# Pythonä¸­æ²¡æœ‰çœŸæ­£çš„å¸¸é‡ï¼Œä½†çº¦å®šç”¨å¤§å†™è¡¨ç¤º
BASE_URL = "https://api.example.com"
MAX_RETRY_COUNT = 3
DEFAULT_TIMEOUT = 30

# é…ç½®å¸¸é‡
EXCEL_PATH = r'D:\testyd\åº—é“ºä¿¡æ¯è¡¨.xlsx'
MINIO_BUCKET = "warehouse"
```

---

## è¿ç®—ç¬¦

### ç®—æœ¯è¿ç®—ç¬¦

```python
a, b = 10, 3

print(a + b)    # 13 - åŠ æ³•
print(a - b)    # 7  - å‡æ³•
print(a * b)    # 30 - ä¹˜æ³•
print(a / b)    # 3.333... - é™¤æ³•
print(a // b)   # 3  - æ•´é™¤
print(a % b)    # 1  - å–ä½™
print(a ** b)   # 1000 - å¹‚è¿ç®—
```

### æ¯”è¾ƒè¿ç®—ç¬¦

```python
x, y = 5, 10

print(x == y)   # False - ç­‰äº
print(x != y)   # True  - ä¸ç­‰äº
print(x < y)    # True  - å°äº
print(x > y)    # False - å¤§äº
print(x <= y)   # True  - å°äºç­‰äº
print(x >= y)   # False - å¤§äºç­‰äº
```

### é€»è¾‘è¿ç®—ç¬¦

```python
a, b = True, False

print(a and b)  # False - ä¸è¿ç®—
print(a or b)   # True  - æˆ–è¿ç®—
print(not a)    # False - éè¿ç®—

# å®é™…åº”ç”¨
if status == "å·²å®Œæˆ" and file_exists:
    print("æ–‡ä»¶å·²å­˜åœ¨ä¸”çŠ¶æ€å®Œæˆ")
```

---

## æ¡ä»¶è¯­å¥

### ifè¯­å¥åŸºç¡€

```python
# åŸºæœ¬ifè¯­å¥
status = "å·²å®Œæˆ"

if status == "å·²å®Œæˆ":
    print("è·³è¿‡ä¸‹è½½")
elif status == "ä¸‹è½½ä¸­":
    print("ç­‰å¾…å®Œæˆ")
else:
    print("å¼€å§‹ä¸‹è½½")
```

### å¤æ‚æ¡ä»¶åˆ¤æ–­

```python
# å¤šæ¡ä»¶åˆ¤æ–­
def should_download(shop, profile, status):
    # æ£€æŸ¥åº—é“ºåç§°
    if not shop or shop.strip() == "":
        return False, "åº—é“ºåç§°ä¸ºç©º"
    
    # æ£€æŸ¥é…ç½®æ–‡ä»¶
    if not profile or profile.strip() == "":
        return False, "é…ç½®æ–‡ä»¶ä¸ºç©º"
    
    # æ£€æŸ¥çŠ¶æ€
    if status == "å·²å®Œæˆ":
        return False, "å·²å®Œæˆï¼Œè·³è¿‡"
    
    return True, "å¯ä»¥ä¸‹è½½"

# ä½¿ç”¨å‡½æ•°
can_download, reason = should_download("åº—é“º1", "Profile 1", "")
if can_download:
    print("å¼€å§‹ä¸‹è½½")
else:
    print(f"è·³è¿‡ï¼š{reason}")
```

### ä¸‰å…ƒè¿ç®—ç¬¦

```python
# ç®€åŒ–çš„æ¡ä»¶è¡¨è¾¾å¼
status = "å·²å®Œæˆ" if download_success else "å¤±è´¥"

# ç­‰ä»·äºï¼š
if download_success:
    status = "å·²å®Œæˆ"
else:
    status = "å¤±è´¥"
```

---

## å¾ªç¯è¯­å¥

### forå¾ªç¯

```python
# éå†åˆ—è¡¨
shops = ["åº—é“º1", "åº—é“º2", "åº—é“º3"]
for shop in shops:
    print(f"å¤„ç†ï¼š{shop}")

# éå†ç´¢å¼•å’Œå€¼
for i, shop in enumerate(shops):
    print(f"{i+1}. {shop}")

# éå†èŒƒå›´
for i in range(5):          # 0åˆ°4
    print(f"ç¬¬{i+1}æ¬¡")

for i in range(1, 6):       # 1åˆ°5
    print(f"ç¬¬{i}æ¬¡")

for i in range(0, 10, 2):   # 0åˆ°9ï¼Œæ­¥é•¿ä¸º2
    print(i)  # è¾“å‡ºï¼š0, 2, 4, 6, 8
```

### whileå¾ªç¯

```python
# åŸºæœ¬whileå¾ªç¯
attempt = 0
max_attempts = 5

while attempt < max_attempts:
    print(f"å°è¯•ç¬¬{attempt + 1}æ¬¡")
    
    # æ¨¡æ‹Ÿæ“ä½œ
    success = try_download()
    
    if success:
        print("æˆåŠŸï¼")
        break  # è·³å‡ºå¾ªç¯
    
    attempt += 1
    time.sleep(1)  # ç­‰å¾…1ç§’

else:
    # whileå¾ªç¯æ­£å¸¸ç»“æŸæ—¶æ‰§è¡Œ
    print("è¾¾åˆ°æœ€å¤§å°è¯•æ¬¡æ•°")
```

### å¾ªç¯æ§åˆ¶

```python
# breakå’Œcontinue
for i in range(10):
    if i == 3:
        continue  # è·³è¿‡å½“å‰å¾ªç¯
    if i == 7:
        break     # è·³å‡ºå¾ªç¯
    print(i)

# åµŒå¥—å¾ªç¯
for shop in shops:
    for attempt in range(3):
        if try_download(shop):
            break  # åªè·³å‡ºå†…å±‚å¾ªç¯
        print(f"{shop} ç¬¬{attempt+1}æ¬¡å°è¯•å¤±è´¥")
```

---

## å‡½æ•°

### å‡½æ•°å®šä¹‰å’Œè°ƒç”¨

```python
# åŸºæœ¬å‡½æ•°
def greet():
    print("Hello, World!")

# è°ƒç”¨å‡½æ•°
greet()

# å¸¦å‚æ•°çš„å‡½æ•°
def greet_user(name):
    print(f"Hello, {name}!")

greet_user("å¼ ä¸‰")

# å¸¦è¿”å›å€¼çš„å‡½æ•°
def add_numbers(a, b):
    result = a + b
    return result

sum_result = add_numbers(5, 3)
print(sum_result)  # 8
```

### å‚æ•°ç±»å‹

```python
# ä½ç½®å‚æ•°
def download_file(url, filename):
    print(f"ä¸‹è½½ {url} åˆ° {filename}")

download_file("http://example.com/file.xlsx", "data.xlsx")

# å…³é”®å­—å‚æ•°
def download_file(url, filename, timeout=30):
    print(f"ä¸‹è½½ {url} åˆ° {filename}ï¼Œè¶…æ—¶ï¼š{timeout}ç§’")

download_file("http://example.com/file.xlsx", filename="data.xlsx")
download_file(filename="data.xlsx", url="http://example.com/file.xlsx")

# é»˜è®¤å‚æ•°
def create_directory(path, exist_ok=True):
    if exist_ok or not os.path.exists(path):
        os.makedirs(path, exist_ok=exist_ok)

# å¯å˜å‚æ•°
def process_shops(*shops):
    for shop in shops:
        print(f"å¤„ç†åº—é“ºï¼š{shop}")

process_shops("åº—é“º1", "åº—é“º2", "åº—é“º3")

# å…³é”®å­—å¯å˜å‚æ•°
def configure_browser(**kwargs):
    for key, value in kwargs.items():
        print(f"{key}: {value}")

configure_browser(headless=False, timeout=30, profile="Profile 1")
```

### å‡½æ•°æ–‡æ¡£å’Œæ³¨é‡Š

```python
def fetch_download_link(shop_name: str, profile: str) -> bool:
    """
    è·å–ä¸‹è½½é“¾æ¥å¹¶ä¸‹è½½æ–‡ä»¶
    
    å‚æ•°:
        shop_name (str): åº—é“ºåç§°
        profile (str): æµè§ˆå™¨é…ç½®æ–‡ä»¶
    
    è¿”å›:
        bool: ä¸‹è½½æ˜¯å¦æˆåŠŸ
    
    ç¤ºä¾‹:
        >>> success = fetch_download_link("æµ‹è¯•åº—é“º", "Profile 1")
        >>> print(success)
        True
    """
    # å‡½æ•°å®ç°
    return True

# æŸ¥çœ‹å‡½æ•°å¸®åŠ©
help(fetch_download_link)
```

---

## å¼‚å¸¸å¤„ç†

### åŸºæœ¬å¼‚å¸¸å¤„ç†

```python
# try-exceptåŸºç¡€
try:
    # å¯èƒ½å‡ºé”™çš„ä»£ç 
    result = 10 / 0
except ZeroDivisionError:
    print("ä¸èƒ½é™¤ä»¥é›¶")
except Exception as e:
    print(f"å‘ç”Ÿé”™è¯¯ï¼š{e}")
```

### å®Œæ•´å¼‚å¸¸å¤„ç†

```python
def safe_download(url, filename):
    try:
        # å°è¯•ä¸‹è½½
        response = requests.get(url, timeout=30)
        response.raise_for_status()  # æ£€æŸ¥HTTPçŠ¶æ€
        
        with open(filename, 'wb') as f:
            f.write(response.content)
        
        return True
        
    except requests.exceptions.Timeout:
        print("ä¸‹è½½è¶…æ—¶")
        return False
        
    except requests.exceptions.RequestException as e:
        print(f"ç½‘ç»œè¯·æ±‚é”™è¯¯ï¼š{e}")
        return False
        
    except IOError as e:
        print(f"æ–‡ä»¶æ“ä½œé”™è¯¯ï¼š{e}")
        return False
        
    except Exception as e:
        print(f"æœªçŸ¥é”™è¯¯ï¼š{e}")
        return False
        
    finally:
        # æ— è®ºæ˜¯å¦å‡ºé”™éƒ½ä¼šæ‰§è¡Œ
        print("æ¸…ç†å·¥ä½œå®Œæˆ")
```

### è‡ªå®šä¹‰å¼‚å¸¸

```python
class DownloadError(Exception):
    """è‡ªå®šä¹‰ä¸‹è½½å¼‚å¸¸"""
    def __init__(self, message, error_code=None):
        super().__init__(message)
        self.error_code = error_code

def download_with_retry(url, max_retries=3):
    for attempt in range(max_retries):
        try:
            # å°è¯•ä¸‹è½½
            if not download_file(url):
                raise DownloadError(f"ä¸‹è½½å¤±è´¥ï¼Œå°è¯• {attempt + 1}/{max_retries}")
            return True
        except DownloadError as e:
            if attempt == max_retries - 1:
                raise  # é‡æ–°æŠ›å‡ºå¼‚å¸¸
            print(f"é‡è¯•ä¸­ï¼š{e}")
            time.sleep(1)
```

---

## æ–‡ä»¶æ“ä½œ

### åŸºæœ¬æ–‡ä»¶è¯»å†™

```python
# è¯»å–æ–‡ä»¶
try:
    with open('data.txt', 'r', encoding='utf-8') as f:
        content = f.read()          # è¯»å–å…¨éƒ¨å†…å®¹
        # æˆ–è€…
        lines = f.readlines()       # è¯»å–æ‰€æœ‰è¡Œ
        # æˆ–è€…
        for line in f:              # é€è¡Œè¯»å–
            print(line.strip())
except FileNotFoundError:
    print("æ–‡ä»¶ä¸å­˜åœ¨")

# å†™å…¥æ–‡ä»¶
with open('output.txt', 'w', encoding='utf-8') as f:
    f.write("Hello, World!\n")
    f.writelines(["è¡Œ1\n", "è¡Œ2\n", "è¡Œ3\n"])

# è¿½åŠ æ–‡ä»¶
with open('log.txt', 'a', encoding='utf-8') as f:
    f.write(f"æ—¥å¿—ï¼š{datetime.now()}\n")
```

### è·¯å¾„æ“ä½œ

```python
from pathlib import Path
import os

# ä½¿ç”¨pathlibï¼ˆæ¨èï¼‰
file_path = Path('D:/testyd/data.xlsx')
print(file_path.name)        # data.xlsx
print(file_path.stem)        # data
print(file_path.suffix)      # .xlsx
print(file_path.parent)      # D:/testyd
print(file_path.exists())    # True/False

# åˆ›å»ºç›®å½•
file_path.parent.mkdir(parents=True, exist_ok=True)

# ä½¿ç”¨osæ¨¡å—
old_path = r'D:\testyd\data.xlsx'
print(os.path.basename(old_path))   # data.xlsx
print(os.path.dirname(old_path))    # D:\testyd
print(os.path.exists(old_path))     # True/False

# åˆ›å»ºç›®å½•
os.makedirs(r'D:\testyd\new_folder', exist_ok=True)
```

### Excelæ–‡ä»¶æ“ä½œ

```python
import pandas as pd

# è¯»å–Excel
df = pd.read_excel('data.xlsx', sheet_name=0)  # è¯»å–ç¬¬ä¸€ä¸ªå·¥ä½œè¡¨
df = pd.read_excel('data.xlsx', sheet_name='Sheet1')  # æŒ‰åç§°è¯»å–

# æŸ¥çœ‹æ•°æ®
print(df.head())        # å‰5è¡Œ
print(df.tail())        # å5è¡Œ
print(df.shape)         # å½¢çŠ¶ (è¡Œæ•°, åˆ—æ•°)
print(df.columns)       # åˆ—å
print(df.info())        # æ•°æ®ä¿¡æ¯

# æ•°æ®æ“ä½œ
df['æ–°åˆ—'] = df['æ—§åˆ—'] * 2                    # åˆ›å»ºæ–°åˆ—
filtered_df = df[df['çŠ¶æ€'] == 'å·²å®Œæˆ']        # ç­›é€‰æ•°æ®
df.loc[0, 'çŠ¶æ€'] = 'å·²å®Œæˆ'                   # ä¿®æ”¹ç‰¹å®šä½ç½®çš„å€¼
df.iloc[0, 5] = 'å·²å®Œæˆ'                      # æŒ‰ä½ç½®ä¿®æ”¹

# ä¿å­˜Excel
df.to_excel('output.xlsx', index=False, engine='openpyxl')
```

---

## æ¨¡å—å’ŒåŒ…

### å¯¼å…¥æ¨¡å—

```python
# å¯¼å…¥æ•´ä¸ªæ¨¡å—
import os
import time
import json

# ä½¿ç”¨æ¨¡å—
os.makedirs('folder', exist_ok=True)
time.sleep(1)
data = json.loads('{"key": "value"}')

# å¯¼å…¥ç‰¹å®šå‡½æ•°
from datetime import datetime, timedelta
from pathlib import Path

# ç›´æ¥ä½¿ç”¨å‡½æ•°
now = datetime.now()
yesterday = now - timedelta(days=1)

# å¯¼å…¥å¹¶é‡å‘½å
import pandas as pd
import requests as req

# ä½¿ç”¨é‡å‘½åçš„æ¨¡å—
df = pd.read_excel('data.xlsx')
response = req.get('http://example.com')
```

### è‡ªå®šä¹‰æ¨¡å—

```python
# æ–‡ä»¶ï¼šmy_utils.py
def format_date(date_obj):
    """æ ¼å¼åŒ–æ—¥æœŸ"""
    return date_obj.strftime('%Y-%m-%d')

def create_filename(shop_name, date_str):
    """åˆ›å»ºæ–‡ä»¶å"""
    return f"{shop_name}_{date_str}.xlsx"

class FileManager:
    """æ–‡ä»¶ç®¡ç†å™¨"""
    def __init__(self, base_path):
        self.base_path = Path(base_path)
    
    def create_directory(self, name):
        dir_path = self.base_path / name
        dir_path.mkdir(parents=True, exist_ok=True)
        return dir_path

# åœ¨å…¶ä»–æ–‡ä»¶ä¸­ä½¿ç”¨
from my_utils import format_date, create_filename, FileManager

# ä½¿ç”¨å‡½æ•°
filename = create_filename("åº—é“º1", "2025-09-26")

# ä½¿ç”¨ç±»
manager = FileManager('D:/testyd')
new_dir = manager.create_directory('downloads')
```

---

## é¢å‘å¯¹è±¡

### ç±»çš„å®šä¹‰å’Œä½¿ç”¨

```python
class ShopDownloader:
    """åº—é“ºä¸‹è½½å™¨ç±»"""
    
    def __init__(self, base_path, timeout=30):
        """åˆå§‹åŒ–æ–¹æ³•"""
        self.base_path = Path(base_path)
        self.timeout = timeout
        self.downloaded_files = []
    
    def download_shop_data(self, shop_name, profile):
        """ä¸‹è½½åº—é“ºæ•°æ®"""
        print(f"å¼€å§‹ä¸‹è½½ {shop_name} çš„æ•°æ®")
        
        # åˆ›å»ºç›®å½•
        shop_dir = self.base_path / shop_name
        shop_dir.mkdir(parents=True, exist_ok=True)
        
        # æ¨¡æ‹Ÿä¸‹è½½
        filename = f"{shop_name}.xlsx"
        file_path = shop_dir / filename
        
        # è®°å½•ä¸‹è½½çš„æ–‡ä»¶
        self.downloaded_files.append(file_path)
        
        return True
    
    def get_download_count(self):
        """è·å–ä¸‹è½½æ–‡ä»¶æ•°é‡"""
        return len(self.downloaded_files)
    
    def __str__(self):
        """å­—ç¬¦ä¸²è¡¨ç¤º"""
        return f"ShopDownloader(base_path={self.base_path}, files={len(self.downloaded_files)})"

# ä½¿ç”¨ç±»
downloader = ShopDownloader('D:/downloads')
downloader.download_shop_data("åº—é“º1", "Profile 1")
downloader.download_shop_data("åº—é“º2", "Profile 2")

print(f"å·²ä¸‹è½½ {downloader.get_download_count()} ä¸ªæ–‡ä»¶")
print(downloader)
```

### ç»§æ‰¿

```python
class AdvancedDownloader(ShopDownloader):
    """é«˜çº§ä¸‹è½½å™¨ï¼Œç»§æ‰¿è‡ªShopDownloader"""
    
    def __init__(self, base_path, timeout=30, max_retries=3):
        super().__init__(base_path, timeout)  # è°ƒç”¨çˆ¶ç±»åˆå§‹åŒ–
        self.max_retries = max_retries
    
    def download_with_retry(self, shop_name, profile):
        """å¸¦é‡è¯•çš„ä¸‹è½½"""
        for attempt in range(self.max_retries):
            try:
                success = self.download_shop_data(shop_name, profile)
                if success:
                    return True
            except Exception as e:
                print(f"ç¬¬{attempt + 1}æ¬¡å°è¯•å¤±è´¥ï¼š{e}")
                if attempt < self.max_retries - 1:
                    time.sleep(1)
        
        return False

# ä½¿ç”¨ç»§æ‰¿çš„ç±»
advanced_downloader = AdvancedDownloader('D:/downloads', max_retries=5)
success = advanced_downloader.download_with_retry("åº—é“º1", "Profile 1")
```

---

## å®ç”¨æŠ€å·§

### åˆ—è¡¨æ¨å¯¼å¼

```python
# ä¼ ç»Ÿæ–¹å¼
squares = []
for i in range(10):
    squares.append(i ** 2)

# åˆ—è¡¨æ¨å¯¼å¼
squares = [i ** 2 for i in range(10)]

# å¸¦æ¡ä»¶çš„åˆ—è¡¨æ¨å¯¼å¼
even_squares = [i ** 2 for i in range(10) if i % 2 == 0]

# å¤„ç†å­—ç¬¦ä¸²åˆ—è¡¨
shops = ["  åº—é“º1  ", "  åº—é“º2  ", "  åº—é“º3  "]
clean_shops = [shop.strip() for shop in shops if shop.strip()]
```

### å­—å…¸æ¨å¯¼å¼

```python
# åˆ›å»ºå­—å…¸
shop_status = {f"åº—é“º{i}": "å¾…ä¸‹è½½" for i in range(1, 6)}

# ä»åˆ—è¡¨åˆ›å»ºå­—å…¸
shops = ["åº—é“º1", "åº—é“º2", "åº—é“º3"]
shop_dict = {shop: i for i, shop in enumerate(shops)}
```

### ç”Ÿæˆå™¨

```python
def read_large_file(filename):
    """ç”Ÿæˆå™¨å‡½æ•°ï¼Œé€è¡Œè¯»å–å¤§æ–‡ä»¶"""
    with open(filename, 'r', encoding='utf-8') as f:
        for line in f:
            yield line.strip()

# ä½¿ç”¨ç”Ÿæˆå™¨
for line in read_large_file('large_file.txt'):
    process_line(line)
```

### è£…é¥°å™¨

```python
import functools
import time

def timer(func):
    """è®¡æ—¶è£…é¥°å™¨"""
    @functools.wraps(func)
    def wrapper(*args, **kwargs):
        start_time = time.time()
        result = func(*args, **kwargs)
        end_time = time.time()
        print(f"{func.__name__} æ‰§è¡Œæ—¶é—´ï¼š{end_time - start_time:.2f}ç§’")
        return result
    return wrapper

@timer
def download_file(url):
    """ä¸‹è½½æ–‡ä»¶"""
    time.sleep(2)  # æ¨¡æ‹Ÿä¸‹è½½
    return "ä¸‹è½½å®Œæˆ"

# ä½¿ç”¨è£…é¥°å™¨
result = download_file("http://example.com/file.xlsx")
```

---

## è°ƒè¯•æŠ€å·§

### ä½¿ç”¨printè°ƒè¯•

```python
def complex_function(data):
    print(f"è¾“å…¥æ•°æ®ï¼š{data}")  # è°ƒè¯•è¾“å‡º
    
    processed_data = process_data(data)
    print(f"å¤„ç†åæ•°æ®ï¼š{processed_data}")  # è°ƒè¯•è¾“å‡º
    
    result = calculate_result(processed_data)
    print(f"è®¡ç®—ç»“æœï¼š{result}")  # è°ƒè¯•è¾“å‡º
    
    return result
```

### ä½¿ç”¨loggingæ¨¡å—

```python
import logging

# é…ç½®æ—¥å¿—
logging.basicConfig(
    level=logging.INFO,
    format='%(asctime)s - %(levelname)s - %(message)s',
    handlers=[
        logging.FileHandler('app.log'),
        logging.StreamHandler()
    ]
)

logger = logging.getLogger(__name__)

def download_file(url):
    logger.info(f"å¼€å§‹ä¸‹è½½ï¼š{url}")
    try:
        # ä¸‹è½½é€»è¾‘
        logger.info("ä¸‹è½½æˆåŠŸ")
        return True
    except Exception as e:
        logger.error(f"ä¸‹è½½å¤±è´¥ï¼š{e}")
        return False
```

### æ–­è¨€è°ƒè¯•

```python
def divide(a, b):
    assert b != 0, "é™¤æ•°ä¸èƒ½ä¸ºé›¶"  # æ–­è¨€æ£€æŸ¥
    return a / b

# ä½¿ç”¨æ–­è¨€æ£€æŸ¥æ•°æ®
def process_shop_data(shop_name, data):
    assert isinstance(shop_name, str), "åº—é“ºåç§°å¿…é¡»æ˜¯å­—ç¬¦ä¸²"
    assert len(data) > 0, "æ•°æ®ä¸èƒ½ä¸ºç©º"
    
    # å¤„ç†é€»è¾‘
    return processed_data
```

---

è¿™ä¸ªè¯­æ³•çŸ¥è¯†ç‚¹æ–‡æ¡£æ¶µç›–äº†Pythonçš„æ ¸å¿ƒæ¦‚å¿µï¼Œç»“åˆäº¬ä¸œæ•°æ®æ‹‰å–è„šæœ¬çš„å®é™…åº”ç”¨åœºæ™¯ã€‚å»ºè®®æŒ‰é¡ºåºå­¦ä¹ ï¼Œæ¯ä¸ªçŸ¥è¯†ç‚¹éƒ½è¦åŠ¨æ‰‹å®è·µï¼